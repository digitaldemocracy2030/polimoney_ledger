import{a as e}from"./chunk-GUCFFKTL.js";import{a as l}from"./chunk-NJU4TC5B.js";import"./chunk-H4FMBZ3H.js";var I={HR:"\u8846\u8B70\u9662\u8B70\u54E1\u9078\u6319",HC:"\u53C2\u8B70\u9662\u8B70\u54E1\u9078\u6319",PG:"\u90FD\u9053\u5E9C\u770C\u77E5\u4E8B\u9078\u6319",PA:"\u90FD\u9053\u5E9C\u770C\u8B70\u4F1A\u9078\u6319",GM:"\u5E02\u533A\u753A\u6751\u9577\u9078\u6319",CM:"\u5E02\u533A\u753A\u6751\u8B70\u4F1A\u9078\u6319"};function M({userEmail:E}){let[r,u]=l(""),[o,b]=l(""),[i,v]=l(""),[c,m]=l(""),[x,w]=l(E||""),[f,h]=l(""),[y,g]=l(""),[p,n]=l(!1),[d,a]=l(null);return e("form",{onSubmit:async t=>{if(t.preventDefault(),n(!0),a(null),!r.trim()){a({type:"error",text:"\u9078\u6319\u540D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"}),n(!1);return}if(!o){a({type:"error",text:"\u9078\u6319\u7A2E\u5225\u3092\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"}),n(!1);return}if(!i.trim()){a({type:"error",text:"\u9078\u6319\u533A\u306E\u8AAC\u660E\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"}),n(!1);return}if(!c){a({type:"error",text:"\u9078\u6319\u65E5\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"}),n(!1);return}try{let s=await fetch("/api/election-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:r.trim(),type:o,area_description:i.trim(),election_date:c,requested_by_email:x.trim()||null,evidence_url:f.trim()||null,notes:y.trim()||null})});if(!s.ok){let T=await s.json();throw new Error(T.error||"\u30EA\u30AF\u30A8\u30B9\u30C8\u306E\u9001\u4FE1\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}a({type:"success",text:"\u9078\u6319\u767B\u9332\u30EA\u30AF\u30A8\u30B9\u30C8\u3092\u9001\u4FE1\u3057\u307E\u3057\u305F\u3002\u904B\u55B6\u304C\u78BA\u8A8D\u5F8C\u3001\u627F\u8A8D\u3055\u308C\u308B\u3068\u9078\u6319\u304C\u5229\u7528\u53EF\u80FD\u306B\u306A\u308A\u307E\u3059\u3002"}),u(""),b(""),v(""),m(""),h(""),g("")}catch(s){a({type:"error",text:s instanceof Error?s.message:"\u30EA\u30AF\u30A8\u30B9\u30C8\u306E\u9001\u4FE1\u306B\u5931\u6557\u3057\u307E\u3057\u305F"})}finally{n(!1)}},class:"space-y-6",children:[d&&e("div",{class:`alert ${d.type==="success"?"alert-success":"alert-error"}`,children:e("span",{children:d.text})}),e("div",{class:"card bg-base-200",children:e("div",{class:"card-body",children:[e("h3",{class:"card-title text-base",children:"\u9078\u6319\u60C5\u5831"}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:["\u9078\u6319\u540D ",e("span",{class:"text-error",children:"*"})]})}),e("input",{type:"text",class:"input input-bordered",placeholder:"\u4F8B: 2025\u5E74 \u6E0B\u8C37\u533A\u8B70\u4F1A\u8B70\u54E1\u9078\u6319",value:r,onInput:t=>u(t.target.value),required:!0}),e("label",{class:"label",children:e("span",{class:"label-text-alt text-base-content/70",children:"\u6B63\u5F0F\u306A\u9078\u6319\u540D\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"})})]}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:["\u9078\u6319\u7A2E\u5225 ",e("span",{class:"text-error",children:"*"})]})}),e("select",{class:"select select-bordered",value:o,onChange:t=>b(t.target.value),required:!0,children:[e("option",{value:"",children:"\u9078\u629E\u3057\u3066\u304F\u3060\u3055\u3044"}),Object.entries(I).map(([t,s])=>e("option",{value:t,children:s},t))]})]}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:["\u9078\u6319\u533A\u30FB\u5730\u57DF\u306E\u8AAC\u660E ",e("span",{class:"text-error",children:"*"})]})}),e("textarea",{class:"textarea textarea-bordered",placeholder:"\u4F8B: \u6771\u4EAC\u90FD\u6E0B\u8C37\u533A\uFF08\u5B9A\u657034\u540D\uFF09",rows:2,value:i,onInput:t=>v(t.target.value),required:!0}),e("label",{class:"label",children:e("span",{class:"label-text-alt text-base-content/70",children:"\u9078\u6319\u533A\u306E\u7BC4\u56F2\u3084\u5B9A\u6570\u306A\u3069\u3001\u9078\u6319\u3092\u7279\u5B9A\u3067\u304D\u308B\u60C5\u5831\u3092\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"})})]}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:["\u9078\u6319\u65E5\uFF08\u6295\u958B\u7968\u65E5\uFF09 ",e("span",{class:"text-error",children:"*"})]})}),e("input",{type:"date",class:"input input-bordered",value:c,onInput:t=>m(t.target.value),required:!0})]})]})}),e("div",{class:"card bg-base-200",children:e("div",{class:"card-body",children:[e("h3",{class:"card-title text-base",children:"\u9023\u7D61\u5148\u30FB\u88DC\u8DB3\u60C5\u5831"}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"\u9023\u7D61\u5148\u30E1\u30FC\u30EB\u30A2\u30C9\u30EC\u30B9"})}),e("input",{type:"email",class:"input input-bordered",placeholder:"example@email.com",value:x,onInput:t=>w(t.target.value)}),e("label",{class:"label",children:e("span",{class:"label-text-alt text-base-content/70",children:"\u627F\u8A8D\u7D50\u679C\u306E\u9023\u7D61\u3084\u78BA\u8A8D\u304C\u5FC5\u8981\u306A\u5834\u5408\u306B\u4F7F\u7528\u3057\u307E\u3059"})})]}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"\u53C2\u8003URL"})}),e("input",{type:"url",class:"input input-bordered",placeholder:"https://...",value:f,onInput:t=>h(t.target.value)}),e("label",{class:"label",children:e("span",{class:"label-text-alt text-base-content/70",children:"\u9078\u6319\u7BA1\u7406\u59D4\u54E1\u4F1A\u306E\u30DA\u30FC\u30B8\u3084\u544A\u793A\u306A\u3069\u3001\u9078\u6319\u60C5\u5831\u3092\u78BA\u8A8D\u3067\u304D\u308BURL\u304C\u3042\u308C\u3070\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"})})]}),e("div",{class:"form-control",children:[e("label",{class:"label",children:e("span",{class:"label-text",children:"\u5099\u8003"})}),e("textarea",{class:"textarea textarea-bordered",placeholder:"\u88DC\u8DB3\u60C5\u5831\u304C\u3042\u308C\u3070\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044",rows:3,value:y,onInput:t=>g(t.target.value)})]})]})}),e("div",{class:"flex gap-4",children:[e("a",{href:"/elections/new",class:"btn btn-outline",children:"\u623B\u308B"}),e("button",{type:"submit",class:`btn btn-primary flex-1 ${p?"loading":""}`,disabled:p,children:p?"\u9001\u4FE1\u4E2D...":"\u767B\u9332\u3092\u30EA\u30AF\u30A8\u30B9\u30C8"})]}),e("div",{class:"alert alert-info",children:[e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",class:"stroke-current shrink-0 w-6 h-6",children:e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e("div",{children:[e("p",{class:"font-bold",children:"\u30EA\u30AF\u30A8\u30B9\u30C8\u5F8C\u306E\u6D41\u308C"}),e("ul",{class:"list-disc list-inside text-sm mt-1",children:[e("li",{children:"\u904B\u55B6\u304C\u5185\u5BB9\u3092\u78BA\u8A8D\u3057\u3001\u627F\u8A8D\u30FB\u5374\u4E0B\u3092\u5224\u65AD\u3057\u307E\u3059"}),e("li",{children:"\u627F\u8A8D\u3055\u308C\u308B\u3068\u3001\u9078\u6319\u304C\u4E00\u89A7\u306B\u8FFD\u52A0\u3055\u308C\u307E\u3059"}),e("li",{children:"\u901A\u5E381\u301C3\u55B6\u696D\u65E5\u4EE5\u5185\u306B\u51E6\u7406\u3055\u308C\u307E\u3059"})]})]})]})]})}export{M as default};
