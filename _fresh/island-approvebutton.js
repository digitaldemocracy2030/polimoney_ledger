import{a as o}from"./chunk-GUCFFKTL.js";import{a as s}from"./chunk-NJU4TC5B.js";import{d as n}from"./chunk-H4FMBZ3H.js";function v({journalId:l}){let[e,t]=s(!1),[p,c]=s(!1),[a,i]=s(null),d=async()=>{if(confirm(`\u3053\u306E\u4ED5\u8A33\u3092\u627F\u8A8D\u3057\u307E\u3059\u304B\uFF1F
\u627F\u8A8D\u3059\u308B\u3068 Hub \u306B\u81EA\u52D5\u540C\u671F\u3055\u308C\u307E\u3059\u3002`)){t(!0),i(null);try{let r=await fetch(`/api/journals/${l}/approve`,{method:"POST"});if(!r.ok){let u=await r.json();throw new Error(u.error||"\u627F\u8A8D\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}let w=await r.json();c(!0),setTimeout(()=>{window.location.reload()},1500)}catch(r){console.error("Approve error:",r),i(r instanceof Error?r.message:"\u627F\u8A8D\u306B\u5931\u6557\u3057\u307E\u3057\u305F")}finally{t(!1)}}};return p?o("div",{class:"flex items-center gap-2 text-success",children:[o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5",children:o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),o("span",{children:"\u627F\u8A8D\u3057\u307E\u3057\u305F"})]}):o("div",{class:"flex flex-col items-end gap-2",children:[o("button",{class:`btn btn-primary ${e?"loading":""}`,onClick:d,disabled:e,children:e?o(n,{children:[o("span",{class:"loading loading-spinner loading-sm"}),"\u627F\u8A8D\u4E2D..."]}):o(n,{children:[o("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5",children:o("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})}),"\u627F\u8A8D\u3059\u308B"]})}),a&&o("div",{class:"text-error text-sm",children:a})]})}export{v as default};
